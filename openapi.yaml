# Generated with protoc-gen-openapi
# https://github.com/google/gnostic/tree/master/cmd/protoc-gen-openapi

openapi: 3.0.3
info:
    title: ExamService API
    version: 0.0.1
paths:
    /v1/exam/exam_record:
        post:
            tags:
                - ExamService
            description: 获取考试上次题目作答记录
            operationId: ExamService_ExamQuestionRecord
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/exam_api.v1.ExamQuestionRecordRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/exam_api.v1.ExamQuestionRecordResponse'
    /v1/exam/heartbeat_and_save:
        post:
            tags:
                - ExamService
            description: 心跳&保存答案
            operationId: ExamService_HeartbeatAndSave
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/exam_api.v1.HeartbeatAndSaveRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/exam_api.v1.HeartbeatAndSaveResponse'
    /v1/exam/login:
        post:
            tags:
                - ExamService
            description: 考试端登录
            operationId: ExamService_ExamLogin
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/exam_api.v1.ExamLoginRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/exam_api.v1.ExamLoginResponse'
    /v1/exam/page_list:
        get:
            tags:
                - ExamService
            description: 待考试列表
            operationId: ExamService_GetExamPageList
            parameters:
                - name: page_index
                  in: query
                  schema:
                    type: integer
                    format: int32
                - name: page_size
                  in: query
                  schema:
                    type: integer
                    format: int32
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/exam_api.v1.GetExamPageListResponse'
    /v1/exam/questions:
        get:
            tags:
                - ExamService
            description: 获取考试题目
            operationId: ExamService_ExamQuestion
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/exam_api.v1.ExamQuestionResponse'
    /v1/exam/start:
        post:
            tags:
                - ExamService
            description: 开始考试
            operationId: ExamService_StartExam
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/exam_api.v1.StartExamRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/exam_api.v1.StartExamResponse'
    /v1/exam/submit:
        post:
            tags:
                - ExamService
            description: 提交考试
            operationId: ExamService_SubmitExam
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/exam_api.v1.SubmitExamRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/exam_api.v1.SubmitExamResponse'
components:
    schemas:
        exam_api.v1.ExamData:
            type: object
            properties:
                examinee_association_id:
                    type: string
                sales_paper_name:
                    type: string
                exam_status:
                    type: integer
                    format: int32
        exam_api.v1.ExamLoginRequest:
            type: object
            properties:
                login_account:
                    type: string
                pass_word:
                    type: string
        exam_api.v1.ExamLoginResponse:
            type: object
            properties:
                user_name:
                    type: string
                token=:
                    type: string
        exam_api.v1.ExamQuestionRecordRequest:
            type: object
            properties: {}
        exam_api.v1.ExamQuestionRecordResponse:
            type: object
            properties:
                answer_data:
                    type: array
                    items:
                        $ref: '#/components/schemas/exam_api.v1.QuestionAnswerData'
        exam_api.v1.ExamQuestionResponse:
            type: object
            properties:
                question_data:
                    type: array
                    items:
                        $ref: '#/components/schemas/exam_api.v1.QuestionData'
        exam_api.v1.GetExamPageListResponse:
            type: object
            properties:
                exam_list:
                    type: array
                    items:
                        $ref: '#/components/schemas/exam_api.v1.ExamData'
                total:
                    type: string
        exam_api.v1.HeartbeatAndSaveRequest:
            type: object
            properties:
                examinee_association_id:
                    type: string
                answer_data:
                    type: array
                    items:
                        $ref: '#/components/schemas/exam_api.v1.QuestionAnswerData'
        exam_api.v1.HeartbeatAndSaveResponse:
            type: object
            properties:
                total_duration:
                    type: integer
                    format: int32
                used_duration:
                    type: integer
                    format: int32
                remaining:
                    type: integer
                    format: int32
        exam_api.v1.QuestionAnswerData:
            type: object
            properties:
                question_id:
                    type: string
                options_serial_number_data:
                    type: array
                    items:
                        type: string
        exam_api.v1.QuestionData:
            type: object
            properties:
                question_id:
                    type: string
                title:
                    type: string
                question_type_id:
                    type: integer
                    format: enum
                order:
                    type: integer
                    format: int32
                question_options_data:
                    type: array
                    items:
                        $ref: '#/components/schemas/exam_api.v1.QuestionOptionData'
        exam_api.v1.QuestionOptionData:
            type: object
            properties:
                question_option_id:
                    type: string
                description:
                    type: string
                serial_number:
                    type: string
        exam_api.v1.StartExamRequest:
            type: object
            properties:
                examinee_association_id:
                    type: string
        exam_api.v1.StartExamResponse:
            type: object
            properties:
                exam_token:
                    type: string
                total_duration:
                    type: integer
                    format: int32
                used_duration:
                    type: integer
                    format: int32
                remaining:
                    type: integer
                    format: int32
        exam_api.v1.SubmitExamRequest:
            type: object
            properties:
                answer_data:
                    type: array
                    items:
                        $ref: '#/components/schemas/exam_api.v1.QuestionAnswerData'
        exam_api.v1.SubmitExamResponse:
            type: object
            properties: {}
tags:
    - name: ExamService
